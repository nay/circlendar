<% if @announcement_templates&.any? %>
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-2"><%= t("announcements.form.template") %></label>
    <select name="announcement[announcement_template_id]"
            class="appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
      <option value=""><%= t("announcements.form.template_prompt") %></option>
      <% @announcement_templates.each do |template| %>
        <option value="<%= template.id %>" <%= "selected" if announcement.announcement_template_id.to_s == template.id.to_s %>>
          <%= template.subject %><%= " (#{t('announcement_templates.index.default')})" if template.default? %>
        </option>
      <% end %>
    </select>
  </div>

  <div class="flex justify-end mt-4">
    <button type="submit" name="submit_type" value="apply_template"
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">
      <%= t("announcements.form.apply_template") %>
    </button>
  </div>
<% else %>
  <p class="text-sm text-gray-500"><%= t("announcements.form.no_templates") %></p>
<% end %>
