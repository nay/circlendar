<% not_attending_or_undecided = attendances.where(status: [:not_attending, :undecided]) %>
<div class="bg-white shadow sm:rounded-lg">
  <% if not_attending_or_undecided.any? %>
    <ul class="divide-y divide-gray-200">
      <% not_attending_or_undecided.each do |attendance| %>
        <li class="px-4 py-4 sm:px-6">
          <div class="flex items-center gap-2">
            <div class="font-medium text-gray-900"><%= attendance.player.name %></div>
            <% case attendance.status %>
            <% when "not_attending" %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600 whitespace-nowrap flex-shrink-0">
                不参加
              </span>
            <% when "undecided" %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap flex-shrink-0">
                保留
              </span>
            <% end %>
          </div>
          <% if attendance.message.present? %>
            <div class="mt-2 text-sm text-gray-500"><%= attendance.message %></div>
          <% end %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <div class="px-4 py-5 sm:p-6 text-center text-gray-500">
      不参加・保留はいません
    </div>
  <% end %>
</div>
